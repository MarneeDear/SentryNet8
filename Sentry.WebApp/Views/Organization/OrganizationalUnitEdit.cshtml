@model Sentry.WebApp.ViewModels.OrganizationalUnitViewModel
@using Sentry.WebApp.Extensions;

@{
    ViewData["Title"] = Model.OrganizationalUnitName + " | " + Model.Title;
}



@if (Model != null)
{
    <ul class="page-title">
        <li>
            <h2>
                Date:
                <span title="Date of Integration: @Html.Raw(Model.CreatedOnDT.HasValue ? Model.CreatedOnDT.Value.ToString() : "N/A")"> @Html.Raw(Model.CreatedOnDT.HasValue ? Model.CreatedOnDT.Value.ToString("MM/dd/yyyy") : "N/A")</span>
            </h2>
        </li>
        <li>
            <h2>
                Source:
                <span title="Source System">@Html.Raw(Model.System ?? "N/A")</span>
            </h2>
        </li>
        <li>
            <h2>
                Source Record Id:
                <span title="Source System Record Id">@Html.Raw(Model.SourceRecordId ?? "N/A")</span>
            </h2>
        </li>
    </ul>

    <ol class="breadcrumb">
        <li><a asp-area="" asp-controller="Home" asp-action="Index">Dashboard</a></li>
        <li><a asp-area="" asp-controller="Organization" asp-action="OrganizationalUnitList">Record List</a></li>
        <li class="active">Record Details</li>
    </ol>

    <div id="content-container" class="content-container" role="main">
        <form asp-action="OrganizationalUnitEdit" id="organizationalUnitEditForm">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="SystemId" />
            <input type="hidden" asp-for="System" />
            <input type="hidden" asp-for="SourceRecordId" />
            <input type="hidden" asp-for="IntegrationId" />
            <input type="hidden" asp-for="Integration" />
            <input type="hidden" asp-for="CreatedOnDT" />
            @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
            {
                @Html.HiddenFor(m => m.HistoryData[i].HistoryDate)
            }

            <div class="panel panel-secondary">
                <div class="panel-heading">
                    <h3 class="panel-title">@Model.Title for: <span class="record-text h3">@Model.OrganizationalUnitName</span> <span class="updatedFormAlert label label-warning hide">Modified</span></h3>
                    <div class="panel-toolbar">
                        <a href="#organizationalUnitDataDetailSourceDataModal" class="btn btn-sm btn-link" target="_blank" data-toggle="modal" title="View Source Data"><i role="img" class="fas fa-database fa-sm">&nbsp;</i>Source Data</a>
                    </div>
                </div>
                <div class="panel-body">

                    <div class="col-sm-12 col-md-12 panel-container">
                        <div class="panel panel-secondary">
                            <div class="panel-heading">
                                <h4 class="panel-title">Details:</h4>
                                <div class="panel-toolbar">
                                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                                </div>
                            </div>
                            <div class="panel-body">

                                <fieldset>
                                    <legend class="sr-only">Organizational Unit Details:</legend>
                                    <div class="col-xs-12 col-sm-6 col-lg-3">
                                        <div class='form-group @string.Format("status{0}", Model.OrganizationalUnitName_Status)'>
                                            <div class="pull-right">
                                                <input type="hidden" asp-for="OrganizationalUnitName_BusinessName" />
                                                <input type="hidden" asp-for="OrganizationalUnitName_BusinessDescription" />
                                                <input type="hidden" asp-for="OrganizationalUnitName_Source" />
                                                <input type="hidden" asp-for="OrganizationalUnitName_Status" />
                                                <button type="button" class="btn btn-xs infoPerField" rel="popover" tabindex="-1"
                                                        data-info-content-name="@Html.DisplayFor(m => m.OrganizationalUnitName_BusinessName)"
                                                        data-info-content-description="@Html.DisplayFor(m => m.OrganizationalUnitName_BusinessDescription)"
                                                        data-info-content-source="@Html.DisplayFor(m => m.System)"
                                                        data-info-content-sourcefieldid="@Html.DisplayFor(m => m.OrganizationalUnitName_Source)">
                                                    <i role="img" class="fas fa-info-circle fa-sm">&nbsp;</i><span>Info</span>
                                                </button>
                                                <button type="button" class="btn btn-xs historyPerField" title="Field History" data-toggle="modal" data-target="#organizationalUnitNameHistoryModal" tabindex="-1"
                                                        data-history-content-status="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitName_Status)"
                                                        data-history-content-date="@Html.DisplayFor(m => m.HistoryData[0].HistoryDate)"
                                                        data-history-content-value="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitName)">
                                                    <i role="img" class="fas fa-history fa-sm">&nbsp;</i><span>History</span>
                                                </button>
                                                <button type="button" class="btn btn-xs form-error text-danger hide" rel="popover" title="Field Errors:" tabindex="-1"><i role="img" class="fas fa-exclamation-triangle fa-sm">&nbsp;</i><span>Error</span></button>
                                            </div>
                                            <label class="control-label" for="OrganizationalUnitName">@Model.OrganizationalUnitName_BusinessName:</label>
                                            <input asp-for="OrganizationalUnitName" class="form-control" placeholder="@Model.OrganizationalUnitName_BusinessName" />
                                            <span class="fa fa-cog form-control-feedback" aria-hidden="true" title="Enriched"></span>
                                            <span class="fa fa-pen-square form-control-feedback" aria-hidden="true" title="Changed"></span>
                                            <span class="fa fa-check-square form-control-feedback" aria-hidden="true" title="Good"></span>
                                            <span class="fa fa-exclamation-triangle form-control-feedback" aria-hidden="true" title="Bad"></span>
                                            <span asp-validation-for="OrganizationalUnitName" class="text-danger help-block"></span>
                                        </div>
                                    </div><!-- /.col-* -->
                                    <div class="col-xs-12 col-sm-6 col-lg-3">
                                        <div class='form-group @string.Format("status{0}", Model.OrganizationalUnitCode_Status)'>
                                            <div class="pull-right">
                                                <input type="hidden" asp-for="OrganizationalUnitCode_BusinessName" />
                                                <input type="hidden" asp-for="OrganizationalUnitCode_BusinessDescription" />
                                                <input type="hidden" asp-for="OrganizationalUnitCode_Source" />
                                                <input type="hidden" asp-for="OrganizationalUnitCode_Status" />
                                                <button type="button" class="btn btn-xs infoPerField" rel="popover" tabindex="-1"
                                                        data-info-content-name="@Html.DisplayFor(m => m.OrganizationalUnitCode_BusinessName)"
                                                        data-info-content-description="@Html.DisplayFor(m => m.OrganizationalUnitCode_BusinessDescription)"
                                                        data-info-content-source="@Html.DisplayFor(m => m.System)"
                                                        data-info-content-sourcefieldid="@Html.DisplayFor(m => m.OrganizationalUnitCode_Source)">
                                                    <i role="img" class="fas fa-info-circle fa-sm">&nbsp;</i><span>Info</span>
                                                </button>
                                                <button type="button" class="btn btn-xs historyPerField" title="Field History" data-toggle="modal" data-target="#organizationalUnitCodeHistoryModal" tabindex="-1"
                                                        data-history-content-status="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitCode_Status)"
                                                        data-history-content-date="@Html.DisplayFor(m => m.HistoryData[0].HistoryDate)"
                                                        data-history-content-value="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitCode)">
                                                    <i role="img" class="fas fa-history fa-sm">&nbsp;</i><span>History</span>
                                                </button>
                                                <button type="button" class="btn btn-xs form-error text-danger hide" rel="popover" title="Field Errors:" tabindex="-1"><i role="img" class="fas fa-exclamation-triangle fa-sm">&nbsp;</i><span>Error</span></button>
                                            </div>
                                            <label class="control-label" for="OrganizationalUnitCode">@Model.OrganizationalUnitCode_BusinessName:</label>
                                            <input asp-for="OrganizationalUnitCode" class="form-control" placeholder="@Model.OrganizationalUnitCode_BusinessName" />
                                            <span class="fa fa-cog form-control-feedback" aria-hidden="true" title="Enriched"></span>
                                            <span class="fa fa-pen-square form-control-feedback" aria-hidden="true" title="Changed"></span>
                                            <span class="fa fa-check-square form-control-feedback" aria-hidden="true" title="Good"></span>
                                            <span class="fa fa-exclamation-triangle form-control-feedback" aria-hidden="true" title="Bad"></span>
                                            <span asp-validation-for="OrganizationalUnitCode" class="text-danger help-block"></span>
                                        </div>
                                    </div><!-- /.col-* -->
                                    <div class="col-xs-12 col-sm-6 col-lg-3">
                                        <div class='form-group @string.Format("status{0}", Model.OrganizationalUnitType_Status)'>
                                            <div class="pull-right">
                                                <input type="hidden" asp-for="OrganizationalUnitType_BusinessName" />
                                                <input type="hidden" asp-for="OrganizationalUnitType_BusinessDescription" />
                                                <input type="hidden" asp-for="OrganizationalUnitType_Source" />
                                                <input type="hidden" asp-for="OrganizationalUnitType_Status" />
                                                <button type="button" class="btn btn-xs infoPerField" rel="popover" tabindex="-1"
                                                        data-info-content-name="@Html.DisplayFor(m => m.OrganizationalUnitType_BusinessName)"
                                                        data-info-content-description="@Html.DisplayFor(m => m.OrganizationalUnitType_BusinessDescription)"
                                                        data-info-content-source="@Html.DisplayFor(m => m.System)"
                                                        data-info-content-sourcefieldid="@Html.DisplayFor(m => m.OrganizationalUnitType_Source)">
                                                    <i role="img" class="fas fa-info-circle fa-sm">&nbsp;</i><span>Info</span>
                                                </button>
                                                <button type="button" class="btn btn-xs historyPerField" title="Field History" data-toggle="modal" data-target="#organizationalUnitTypeHistoryModal" tabindex="-1"
                                                        data-history-content-status="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitType_Status)"
                                                        data-history-content-date="@Html.DisplayFor(m => m.HistoryData[0].HistoryDate)"
                                                        data-history-content-value="@Html.DisplayFor(m => m.HistoryData[0].OrganizationalUnitType)">
                                                    <i role="img" class="fas fa-history fa-sm">&nbsp;</i><span>History</span>
                                                </button>
                                                <button type="button" class="btn btn-xs form-error text-danger hide" rel="popover" title="Field Errors:" tabindex="-1"><i role="img" class="fas fa-exclamation-triangle fa-sm">&nbsp;</i><span>Error</span></button>
                                            </div>
                                            <label class="control-label" for="OrganizationalUnitType">@Model.OrganizationalUnitType_BusinessName:</label>
                                            <input asp-for="OrganizationalUnitType" class="form-control" placeholder="@Model.OrganizationalUnitType_BusinessName" />
                                            <span class="fa fa-cog form-control-feedback" aria-hidden="true" title="Enriched"></span>
                                            <span class="fa fa-pen-square form-control-feedback" aria-hidden="true" title="Changed"></span>
                                            <span class="fa fa-check-square form-control-feedback" aria-hidden="true" title="Good"></span>
                                            <span class="fa fa-exclamation-triangle form-control-feedback" aria-hidden="true" title="Bad"></span>
                                            <span asp-validation-for="OrganizationalUnitType" class="text-danger help-block"></span>
                                        </div>
                                    </div><!-- /.col-* -->
                                </fieldset>
                                <fieldset>
                                    <legend class="sr-only">Parent Details:</legend>
                                    <div class="col-xs-12 col-sm-6 col-lg-3">
                                        <div class='form-group @string.Format("status{0}", Model.OrganizationMasterId_Status)'>
                                            <div class="pull-right">
                                                <input type="hidden" asp-for="OrganizationMasterId_BusinessName" />
                                                <input type="hidden" asp-for="OrganizationMasterId_BusinessDescription" />
                                                <input type="hidden" asp-for="OrganizationMasterId_Source" />
                                                <input type="hidden" asp-for="OrganizationMasterId_Status" />
                                                <input type="hidden" asp-for="OrganizationName" />
                                                <input type="hidden" asp-for="OrganizationCode" />
                                                <button type="button" class="btn btn-xs infoPerField" rel="popover" tabindex="-1"
                                                        data-info-content-name="@Html.DisplayFor(m => m.OrganizationMasterId_BusinessName)"
                                                        data-info-content-description="@Html.DisplayFor(m => m.OrganizationMasterId_BusinessDescription)"
                                                        data-info-content-source="@Html.DisplayFor(m => m.System)"
                                                        data-info-content-sourcefieldid="@Html.DisplayFor(m => m.OrganizationMasterId_AttributeId)">
                                                    <i role="img" class="fas fa-info-circle fa-sm">&nbsp;</i><span>Info</span>
                                                </button>
                                                <button type="button" class="btn btn-xs historyPerField" title="Field History" data-toggle="modal" data-target="#organizationHistoryModal" tabindex="-1"
                                                        data-history-content-status="@Html.DisplayFor(m => m.HistoryData[0].OrganizationMasterId_Status)"
                                                        data-history-content-date="@Html.DisplayFor(m => m.HistoryData[0].HistoryDate)"
                                                        data-history-content-value="@Html.DisplayFor(m => m.HistoryData[0].OrganizationMasterId)">
                                                    <i role="img" class="fas fa-history fa-sm">&nbsp;</i><span>History</span>
                                                </button>
                                                <button type="button" class="btn btn-xs form-error text-danger hide" rel="popover" title="Field Errors:" tabindex="-1"><i role="img" class="fas fa-exclamation-triangle fa-sm">&nbsp;</i><span>Error</span></button>
                                            </div>
                                            <label class="control-label" for="OrganizationalUnitParentOrg">@Model.OrganizationMasterId_BusinessName:</label>
                                            @Html.DropDownListFor(
                                                m => m.OrganizationMasterId,
                                                Model.OrganizationList,
                                                htmlAttributes: new { @class = "form-control" }
                                            )
                                            <span class="fa fa-cog form-control-feedback" aria-hidden="true" title="Enriched"></span>
                                            <span class="fa fa-pen-square form-control-feedback" aria-hidden="true" title="Changed"></span>
                                            <span class="fa fa-check-square form-control-feedback" aria-hidden="true" title="Good"></span>
                                            <span class="fa fa-exclamation-triangle form-control-feedback" aria-hidden="true" title="Bad"></span>
                                            <span asp-validation-for="OrganizationMasterId" class="text-danger help-block"></span>
                                        </div>
                                    </div><!-- /.col-* -->
                                    <div class="col-xs-12 col-sm-6 col-lg-3">
                                        <div class='form-group @string.Format("status{0}", Model.ParentOrganizationalUnitMasterId_Status)'>
                                            <div class="pull-right">
                                                <input type="hidden" asp-for="ParentOrganizationalUnitMasterId_BusinessName" />
                                                <input type="hidden" asp-for="ParentOrganizationalUnitMasterId_BusinessDescription" />
                                                <input type="hidden" asp-for="ParentOrganizationalUnitMasterId_Source" />
                                                <input type="hidden" asp-for="ParentOrganizationalUnitMasterId_Status" />
                                                <input type="hidden" asp-for="ParentOrganizationalUnitName" />
                                                <input type="hidden" asp-for="ParentOrganizationalUnitCode" />
                                                <button type="button" class="btn btn-xs infoPerField" rel="popover" tabindex="-1"
                                                        data-info-content-name="@Html.DisplayFor(m => m.ParentOrganizationalUnitMasterId_BusinessName)"
                                                        data-info-content-description="@Html.DisplayFor(m => m.ParentOrganizationalUnitMasterId_BusinessDescription)"
                                                        data-info-content-source="@Html.DisplayFor(m => m.System)"
                                                        data-info-content-sourcefieldid="@Html.DisplayFor(m => m.ParentOrganizationalUnitMasterId_Source)">
                                                    <i role="img" class="fas fa-info-circle fa-sm">&nbsp;</i><span>Info</span>
                                                </button>
                                                <button type="button" class="btn btn-xs historyPerField" title="Field History" data-toggle="modal" data-target="#parentOrganizationalUnitNameHistoryModal" tabindex="-1"
                                                        data-history-content-status="@Html.DisplayFor(m => m.HistoryData[0].ParentOrganizationalUnitMasterId_Status)"
                                                        data-history-content-date="@Html.DisplayFor(m => m.HistoryData[0].HistoryDate)"
                                                        data-history-content-value="@Html.DisplayFor(m => m.HistoryData[0].ParentOrganizationalUnitMasterId)">
                                                    <i role="img" class="fas fa-history fa-sm">&nbsp;</i><span>History</span>
                                                </button>
                                                <button type="button" class="btn btn-xs form-error text-danger hide" rel="popover" title="Field Errors:" tabindex="-1"><i role="img" class="fas fa-exclamation-triangle fa-sm">&nbsp;</i><span>Error</span></button>
                                            </div>
                                            <label class="control-label" for="OrganizationalUnitParent">@Model.ParentOrganizationalUnitMasterId_BusinessName:</label>
                                            @Html.DropDownListFor(
                                                m => m.ParentOrganizationalUnitMasterId,
                                                Model.OrganizationalUnitParentList,
                                                htmlAttributes: new { @class = "form-control" }
                                            )
                                            <span class="fa fa-cog form-control-feedback" aria-hidden="true" title="Enriched"></span>
                                            <span class="fa fa-pen-square form-control-feedback" aria-hidden="true" title="Changed"></span>
                                            <span class="fa fa-check-square form-control-feedback" aria-hidden="true" title="Good"></span>
                                            <span class="fa fa-exclamation-triangle form-control-feedback" aria-hidden="true" title="Bad"></span>
                                            <span asp-validation-for="ParentOrganizationalUnitMasterId" class="text-danger help-block"></span>
                                        </div>
                                    </div><!-- /.col-* -->
                                </fieldset>

                            </div><!-- /.panel-body -->
                        </div><!-- /.panel-primary -->
                    </div><!-- /.panel-container -->

                </div><!-- /.panel-body -->

                <div class="panel-footer text-right">
                    <a asp-area="" asp-controller="Organization" asp-action="OrganizationalUnitList" class="btn btn-link" title="Cancel Changes" data-toggle="tooltip"><i role="img" class="fas fa-times">&nbsp;</i>Discard</a>
                    <button type="submit" id="btnSavePartial" class="btn btn-info" title="Save Partial Record" data-toggle="tooltip" formaction='@Url.Action("OrganizationalUnitSave", "Organization")' disabled="disabled">
                        <i role="img" class="fas fa-save">&nbsp;</i>Save Partial Record
                    </button>
                    <button type="submit" id="btnResolve" class="btn btn-primary" title="Re-Validate Record" data-toggle="tooltip" formaction='@Url.Action("OrganizationalUnitRevalidate", "Organization")'>
                        <i role="img" class="fas fa-check">&nbsp;</i>Resolve Record
                    </button>
                </div><!-- /.panel-footer -->

            </div><!-- /.panel-secondary -->
        </form>
    </div><!-- /.content-container -->

    <div id="callbackBox"></div>

}
else
{
    // Temporary: Record Not Found Content
    // TODO: Implement error handling
    <div class="recordNotFoundContent">
        <ul class="page-title">
            <li>
                <h1>Ya done messed up, A-A-ron...</h1>
                <h3>Record not found</h3>
                <p>More than likely, there's a NULL value which is not being accounted for yet.</p>
            </li>
        </ul>
        <img src="~/img/page-rip-hole.jpg" alt="Error Image" />
        <p><a asp-area="" asp-controller="Organization" asp-action="OrganizationalUnitList">Back to List</a></p>
    </div>
}

<!-- Popover - Title: Legend -->
<div id="popover-legend-title" class="popover hide" role="tooltip">
    <a href="javascript:;" role="button" class="pull-right close" title="Close"><i role="img" class="btn-icon ua-brand-x">&nbsp;</i></a>
    <span>Status Information:</span>
</div><!-- /.popover (title) -->
<!-- Popover - Content: Legend -->
<div id="popover-legend-content" class="popover hide">
    <div class="">
        <table id="historyPerFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Description:</th>
                </tr>
            </thead>
            <tbody>
                <tr class="changedDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-pen-square" data-toggle="tooltip" title="Changed Data"></i> Changed Data</td>
                    <td data-header="Meaning">This data was manually modified by a Data Steward</td>
                </tr>
                <tr class="goodDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-check-square" data-toggle="tooltip" title="Valid Data"></i> Valid Data</td>
                    <td data-header="Date">This data is valid</td>
                </tr>
                <tr class="enrichedDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-cog" data-toggle="tooltip" title="Enriched Data"></i> Enriched Data</td>
                    <td data-header="Date">This data was enriched by the Integration Framework</td>
                </tr>
                <tr class="badDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-ban" data-toggle="tooltip" title="Invalid Data"></i> Invalid Data</td>
                    <td data-header="Date">This data is invalid</td>
                </tr>
                <tr class="notProvidedDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-exclamation-triangle" data-toggle="tooltip" title="Data not applicable"></i> N/A</td>
                    <td data-header="Date">This data is not appliciable</td>
                </tr>
                <tr class="sourceDataHistory">
                    <td data-header="Status"><i role="img" class="fas fa-server" data-toggle="tooltip" title="Source Data"></i> Source Data</td>
                    <td data-header="Date">Original data provided by the Source System</td>
                </tr>
            </tbody>
        </table>
    </div><!-- /.timeline -->
</div><!-- /.popover (content) -->
<!-- Popover - Title: Info -->
<div id="popover-info-title" class="popover hide" role="tooltip">
    @*<a href="javascript:;" type="button" role="button" class="pull-right close" title="Close"><i role="img" class="btn-icon ua-brand-x">&nbsp;</i></a>*@
    <span>Field Information:</span>
</div><!-- /.popover (title) -->
<!-- Popover - Content: Info -->
<div id="popover-info-content" class="popover hide">
    <ul class="triangle">
        <li>
            <span><strong>Business Glossary Name:</strong> <span id="popover-info-content-name">[No Data Provided]</span></span>
        </li>
        <li>
            <span><strong>Business Glossary Description:</strong> <span id="popover-info-content-description">[No Data Provided]</span></span>
        </li>
        <li>
            <span><strong>Source System:</strong> <span id="popover-info-content-source">[No Data Provided]</span></span>
        </li>
        @*<li>
                <span><strong>Source Field Id:</strong> <span id="popover-info-content-sourcefieldid">[No Data Provided]</span></span>
            </li>*@
    </ul>
</div><!-- /.popover (content) -->
<!-- Popover - Title: Field History -->
<div id="popover-history-title" class="popover hide" role="tooltip">
    <a href="javascript:;" role="button" class="pull-right close" title="Close"><i role="img" class="btn-icon ua-brand-x">&nbsp;</i></a>
    Field History:
</div><!-- /.popover (title) -->
<!-- Popover - Content: Organizational Unit Name History -->
<div id="popover-history-content-orgUnitName" class="popover hide" role="tooltip">
    <div>
        <table id="historyNameFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Date:</th>
                    <th>Value:</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                {
                    <tr class="@Model.HistoryData[i].OrganizationalUnitName_Status.GetHistoryFieldStatusClass()">
                        <td data-header="Status"><i role="img" class="fas @Model.HistoryData[i].OrganizationalUnitName_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationalUnitName_Status Data"></i>  @Model.HistoryData[i].OrganizationalUnitName_Status @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitName_Status)</td>
                        <td data-header="Date">@Model.HistoryData[i].HistoryDate</td>
                        <td data-header="Value">@Html.DisplayFor(m => m.HistoryData[i].OrganizationalUnitName) @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitName)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div><!-- /.popover (Organizational Unit Name) -->
<!-- Modal - Content: Organizational Unit Name History -->
<div class="modal fade" id="organizationalUnitNameHistoryModal" tabindex="-1" role="dialog" aria-labelledby="organizationalUnitNameHistoryModal organizationalUnitNameHistoryLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="organizationalUnitNameHistoryLabel">@Model.OrganizationalUnitName_BusinessName History: @Model.OrganizationalUnitName</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate"><strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)</span>
                    <span class="sourceSystem">
                        <strong>Source System:</strong>&nbsp;
                        @Html.Raw(Model.System ?? "N/A")
                    </span>
                    <span class="sourceRecordId">
                        <strong>System Record Id:</strong>&nbsp;
                        @Html.Raw(Model.SourceRecordId ?? "N/A")
                    </span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="organizationalUnitNameHistoryDataPerFieldTable" class="table responsive historyDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all date">Date:</th>
                                        <th class="all name">Name: <i role="img" class="fas fa-question-circle fa-sm" title="@Model.OrganizationalUnitName_Source"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                                    {
                                        <tr class="@Model.HistoryData[i].OrganizationalUnitName_Status.GetHistoryFieldStatusClass()">
                                            <td data-header="Date">
                                                @Model.HistoryData[i].HistoryDate
                                            </td>
                                            <td data-header="Name">
                                                <i role="img" class="fas @Model.HistoryData[i].OrganizationalUnitName_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationalUnitName_Status">
                                                    @Html.Raw(Model.HistoryData[i].OrganizationalUnitName ?? "N/A")
                                                    @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitName)
                                                </span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal (Organizational Unit Name) -->
<!-- Popover - Content: Organizational Unit Code History -->
<div id="popover-history-content-orgUnitCode" class="popover hide" role="tooltip">
    <div>
        <table id="historyCodeFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Date:</th>
                    <th>Value:</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                {
                    <tr class="@Model.HistoryData[i].OrganizationalUnitCode_Status.GetHistoryFieldStatusClass()">
                        <td data-header="Status"><i role="img" class="fas @Model.HistoryData[i].OrganizationalUnitCode_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationalUnitCode_Status Data"></i>  @Model.HistoryData[i].OrganizationalUnitCode_Status @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitCode_Status)</td>
                        <td data-header="Date">@Model.HistoryData[i].HistoryDate</td>
                        <td data-header="Value">@Html.DisplayFor(m => m.HistoryData[i].OrganizationalUnitCode) @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitCode)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div><!-- /.popover (Organizational Unit Code) -->
<!-- Modal - Content: Organizational Unit Code History -->
<div class="modal fade" id="organizationalUnitCodeHistoryModal" tabindex="-1" role="dialog" aria-labelledby="organizationalUnitCodeHistoryModal organizationalUnitCodeHistoryLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="organizationalUnitCodeHistoryLabel">@Model.OrganizationCode_BusinessName History: @Model.OrganizationCode</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate"><strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)</span>
                    <span class="sourceSystem">
                        <strong>Source System:</strong>&nbsp;
                        @Html.Raw(Model.System ?? "N/A")
                    </span>
                    <span class="sourceRecordId">
                        <strong>System Record Id:</strong>&nbsp;
                        @Html.Raw(Model.SourceRecordId ?? "N/A")
                    </span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="organizationalUnitCodeHistoryDataPerFieldTable" class="table responsive historyDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all date">Date:</th>
                                        <th class="all name">Name: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.OrganizationalUnitCode_Source ?? "N/A")"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                                    {
                                        <tr class="@Model.HistoryData[i].OrganizationCode_Status.GetHistoryFieldStatusClass()">
                                            <td data-header="Date">
                                                @Model.HistoryData[i].HistoryDate
                                            </td>
                                            <td data-header="Name">
                                                <i role="img" class="fas @Model.HistoryData[i].OrganizationCode_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationCode_Status">
                                                    @Html.Raw(Model.HistoryData[i].OrganizationCode ?? "N/A")
                                                    @Html.HiddenFor(m => m.HistoryData[i].OrganizationCode)
                                                </span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal (Organizational Unit Code) -->
<!-- Popover - Content: Organizational Unit Type History -->
<div id="popover-history-content-orgUnitType" class="popover hide" role="tooltip">
    <div>
        <table id="historyTypeFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Date:</th>
                    <th>Value:</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                {
                    <tr class="@Model.HistoryData[i].OrganizationalUnitType_Status.GetHistoryFieldStatusClass()">
                        <td data-header="Status"><i role="img" class="fas @Model.HistoryData[i].OrganizationalUnitType_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationalUnitType_Status Data"></i>  @Model.HistoryData[i].OrganizationalUnitType_Status @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitType_Status)</td>
                        <td data-header="Date">@Model.HistoryData[i].HistoryDate</td>
                        <td data-header="Value">@Html.DisplayFor(m => m.HistoryData[i].OrganizationalUnitType) @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitType)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div><!-- /.popover (Organizational Unit Type) -->
<!-- Modal - Content: Organizational Unit Type History -->
<div class="modal fade" id="organizationalUnitTypeHistoryModal" tabindex="-1" role="dialog" aria-labelledby="organizationalUnitTypeHistoryModal organizationalUnitTypeHistoryLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="organizationalUnitTypeHistoryLabel">@Model.OrganizationalUnitType_BusinessName History: @Model.OrganizationalUnitType</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate"><strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)</span>
                    <span class="sourceSystem">
                        <strong>Source System:</strong>&nbsp;
                        @Html.Raw(Model.System ?? "N/A")
                    </span>
                    <span class="sourceRecordId">
                        <strong>System Record Id:</strong>&nbsp;
                        @Html.Raw(Model.SourceRecordId ?? "N/A")
                    </span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="organizationalUnitTypeHistoryDataPerFieldTable" class="table responsive historyDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all date">Date:</th>
                                        <th class="all name">Name: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.OrganizationalUnitType_Source ?? "N/A")"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                                    {
                                        <tr class="@Model.HistoryData[i].OrganizationalUnitType_Status.GetHistoryFieldStatusClass()">
                                            <td data-header="Date">
                                                @Model.HistoryData[i].HistoryDate
                                            </td>
                                            <td data-header="Name">
                                                <i role="img" class="fas @Model.HistoryData[i].OrganizationalUnitType_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationalUnitType_Status">
                                                    @Html.Raw(Model.HistoryData[i].OrganizationalUnitType ?? "N/A")
                                                    @Html.HiddenFor(m => m.HistoryData[i].OrganizationalUnitType)
                                                </span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal (Organizational Unit Type) -->
<!-- Popover - Content: Organization History -->
<div id="popover-history-content-orgUnit" class="popover hide" role="tooltip">
    <div>
        <table id="historyOrgFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Date:</th>
                    <th>Value:</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                {
                    <tr class="@Model.HistoryData[i].OrganizationMasterId_Status.GetHistoryFieldStatusClass()">
                        <td data-header="Status"><i role="img" class="fas @Model.HistoryData[i].OrganizationMasterId_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationMasterId_Status Data"></i>  @Model.HistoryData[i].OrganizationMasterId_Status @Html.HiddenFor(m => m.HistoryData[i].OrganizationMasterId_Status)</td>
                        <td data-header="Date">@Model.HistoryData[i].HistoryDate</td>
                        <td data-header="Value">@Html.DisplayFor(m => m.HistoryData[i].OrganizationMasterId) @Html.HiddenFor(m => m.HistoryData[i].OrganizationMasterId)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div><!-- /.popover (Organization) -->
<!-- Modal - Content: Organization History -->
<div class="modal fade" id="organizationHistoryModal" tabindex="-1" role="dialog" aria-labelledby="organizationHistoryModal organizationHistoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="organizationHistoryModalLabel">@Model.OrganizationName_BusinessName History: @Model.OrganizationName</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate">
                        <strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)
                    </span>
                    <span class="sourceSystem">
                        <strong>Source System:</strong>&nbsp;
                        @Html.Raw(Model.System ?? "N/A")
                    </span>
                    <span class="sourceRecordId">
                        <strong>System Record Id:</strong>&nbsp;
                        @Html.Raw(Model.SourceRecordId ?? "N/A")
                    </span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="organizationHistoryDataPerFieldTable" class="table responsive historyDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all date">Date:</th>
                                        <th class="all name">Name: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.ParentOrganizationalUnitName_Source ?? "N/A")"></i></th>
                                        <th class="all code">Code: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.OrganizationCode_Source ?? "N/A")"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                                    {
                                        <tr class="@Model.HistoryData[i].OrganizationName_Status.GetHistoryFieldStatusClass()">
                                            <td data-header="Date">
                                                @Model.HistoryData[i].HistoryDate
                                            </td>
                                            <td data-header="Name">
                                                <i role="img" class="fas @Model.HistoryData[i].OrganizationName_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationName_Status">
                                                    @Html.Raw(Model.HistoryData[i].OrganizationName ?? "N/A") @Html.HiddenFor(m => m.HistoryData[i].OrganizationName)
                                                </span>
                                            </td>
                                            <td data-header="Code">
                                                <i role="img" class="fas @Model.HistoryData[i].OrganizationCode_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].OrganizationCode_Status">
                                                    @Html.Raw(Model.HistoryData[i].OrganizationCode ?? "N/A")
                                                    @Html.HiddenFor(m => m.HistoryData[i].OrganizationCode_Status)
                                                </span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal (Organization) -->
<!-- Popover - Content: Parent Organizational Unit History -->
<div id="popover-history-content-orgUnitParent" class="popover hide" role="tooltip">
    <div>
        <table id="historyOrgParentFieldTable" class="table historyData table-striped">
            <thead>
                <tr class="tableHeader">
                    <th>Status:</th>
                    <th>Date:</th>
                    <th>Value:</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                {
                    <tr class="@Model.HistoryData[i].ParentOrganizationalUnitMasterId_Status.GetHistoryFieldStatusClass()">
                        <td data-header="Status"><i role="img" class="fas @Model.HistoryData[i].ParentOrganizationalUnitMasterId_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].ParentOrganizationalUnitMasterId_Status Data"></i>  @Model.HistoryData[i].ParentOrganizationalUnitMasterId_Status @Html.HiddenFor(m => m.HistoryData[i].ParentOrganizationalUnitMasterId_Status)</td>
                        <td data-header="Date">@Model.HistoryData[i].HistoryDate</td>
                        <td data-header="Value">@Html.DisplayFor(m => m.HistoryData[i].ParentOrganizationalUnitMasterId) @Html.HiddenFor(m => m.HistoryData[i].ParentOrganizationalUnitMasterId)</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div><!-- /.popover (Parent Organizational Unit) -->
<!-- Modal - Content: Parent Organizational Unit History -->
<div class="modal fade" id="parentOrganizationalUnitNameHistoryModal" tabindex="-1" role="dialog" aria-labelledby="parentOrganizationalUnitNameHistoryModal parentOrganizationalUnitNameHistoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="parentOrganizationalUnitNameHistoryModalLabel">@Model.ParentOrganizationalUnitName_BusinessName History: @Model.ParentOrganizationalUnitName</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate">
                        <strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)
                    </span>
                    <span class="sourceSystem">
                        <strong>Source System:</strong>&nbsp;
                        @Html.Raw(Model.System ?? "N/A")
                    </span>
                    <span class="sourceRecordId">
                        <strong>System Record Id:</strong>&nbsp;
                        @Html.Raw(Model.SourceRecordId ?? "N/A")
                    </span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="organizationHistoryDataPerFieldTable" class="table responsive historyDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all date">Date:</th>
                                        <th class="all name">Name: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.ParentOrganizationalUnitName_Source ?? "N/A")"></i></th>
                                        <th class="all code">Code: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.ParentOrganizationalUnitCode_Source ?? "N/A")"></i></th>
                                        <th class="all type">Type: <i role="img" class="fas fa-question-circle fa-sm" title="@Html.Raw(Model.ParentOrganizationalUnitType_Source ?? "N/A")"></i></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i <= Model.HistoryData.Count - 1; i++)
                                    {
                                        <tr class="@Model.HistoryData[i].ParentOrganizationalUnitName_Status.GetHistoryFieldStatusClass()">
                                            <td data-header="Date">
                                                @Model.HistoryData[i].HistoryDate
                                            </td>
                                            <td data-header="Name">
                                                @Html.DisplayFor(m => m.HistoryData[i].ParentOrganizationalUnitName) @Html.HiddenFor(m => m.HistoryData[i].ParentOrganizationalUnitName)
                                            </td>
                                            <td data-header="Code">
                                                <i role="img" class="fas @Model.HistoryData[i].ParentOrganizationalUnitName_Status.GetHistoryFieldIconClass()"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].ParentOrganizationalUnitName_Status">@Model.HistoryData[i].ParentOrganizationalUnitName_Status @Html.HiddenFor(m => m.HistoryData[i].ParentOrganizationalUnitName_Status)</span>
                                            </td>
                                            <td data-header="Type">
                                                <i role="img" class="fas @Model.HistoryData[i].ParentOrganizationalUnitName_Status.GetHistoryFieldIconClass()" data-toggle="tooltip" title="@Model.HistoryData[i].ParentOrganizationalUnitName_Status Data"></i>
                                                <span data-toggle="tooltip" title="@Model.HistoryData[i].ParentOrganizationalUnitName_Status">[Type]</span>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal (Parent Organizational Unit) -->
<!-- Modal - Source Data -->
<div class="modal fade" id="organizationalUnitDataDetailSourceDataModal" tabindex="-1" role="dialog" aria-labelledby="organizationalUnitDataDetailSourceDataModal organizationalUnitDataDetailSourceDataModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="organizationalUnitDataDetailSourceDataModalLabel">Record Source Data:</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-toggle="tooltip" title="Close"><i aria-hidden="true" class="ua-brand-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="legend pull-right">
                    <button class="btn btn-sm btn-link infoLegend" data-toggle="tooltip" type="button" aria-expanded="false">History/Source Legend <i role="img" class="fas fa-question-circle"></i></button>
                </div><!-- /.legend -->
                <div class="panel-toolbar">
                    <span class="integrationDate"><strong>Integration Date:</strong>&nbsp;@Html.DisplayFor(m => m.CreatedOnDT)</span>
                    <span class="sourceSystem"><strong>Source System:</strong>&nbsp;@Html.DisplayFor(m => m.System)</span>
                    <span class="sourceRecordId"><strong>System Record Id:</strong>&nbsp;@Html.DisplayFor(m => m.SourceRecordId)</span>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="table-responsive">
                            <table id="officeLocationSourceDataPerRecordTable" class="table responsive sourceDataContainer table-striped">
                                <thead>
                                    <tr class="tableHeader">
                                        <th class="all">Field:</th>
                                        <th class="all">Current Value:</th>
                                        <th class="all">Original Value:</th>
                                        <th class="all">Source Field Id:</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="@Model.OrganizationMasterId_Status.GetHistoryFieldStatusClass()">
                                        <td data-header="Field">@Model.OrganizationMasterId_BusinessName</td>
                                        <td data-header="Current Value">
                                            <span title="@Model.OrganizationMasterId_Status">
                                                <i role="img" class="fas @Model.OrganizationMasterId_Status.GetHistoryFieldIconClass()"></i>&nbsp;
                                                @Model.OrganizationMasterId
                                            </span>
                                        </td>
                                        <td data-header="Original Value">
                                            <input type="hidden" asp-for="OrganizationMasterId_OriginalValue" />
                                            <span title="Original Value">@Model.OrganizationMasterId_OriginalValue</span>
                                        </td>
                                        <td data-header="Source Field Id">
                                            @if (Model.OrganizationMasterId_Source == "" || Model.OrganizationMasterId_Source == null)
                                            {
                                                <span class="notProvidedDataHistory"><i role="img" class="fas fa-exclamation-triangle"></i>&nbsp; Not Applicable in @Model.System</span>;
                                            }
                                            else
                                            {
                                                @Model.OrganizationMasterId_Source
                                            }
                                        </td>
                                    </tr>
                                    <tr class="@Model.ParentOrganizationalUnitMasterId_Status.GetHistoryFieldStatusClass()">
                                        <td data-header="Field">@Model.ParentOrganizationalUnitMasterId_BusinessName</td>
                                        <td data-header="Current Value">
                                            <span title="@Model.ParentOrganizationalUnitMasterId_Status">
                                                <i role="img" class="fas @Model.ParentOrganizationalUnitMasterId_Status.GetHistoryFieldIconClass()"></i>&nbsp;
                                                @Model.ParentOrganizationalUnitMasterId
                                            </span>
                                        </td>
                                        <td data-header="Original Value">
                                            <input type="hidden" asp-for="ParentOrganizationalUnitMasterId_OriginalValue" />
                                            <span title="Original Value">@Model.ParentOrganizationalUnitMasterId_OriginalValue</span>
                                        </td>
                                        <td data-header="Source Field Id">
                                            @if (Model.ParentOrganizationalUnitMasterId_Source == "" || Model.ParentOrganizationalUnitMasterId_Source == null)
                                            {
                                                <span class="notProvidedDataHistory"><i role="img" class="fas fa-exclamation-triangle"></i>&nbsp; Not Applicable in @Model.System</span>;
                                            }
                                            else
                                            {
                                                @Model.ParentOrganizationalUnitMasterId_Source
                                            }
                                        </td>
                                    </tr>
                                    <tr class="@Model.OrganizationalUnitName_Status.GetHistoryFieldStatusClass()">
                                        <td data-header="Field">@Model.OrganizationalUnitName_BusinessName</td>
                                        <td data-header="Current Value">
                                            <span title="@Model.OrganizationalUnitName_Status">
                                                <i role="img" class="fas @Model.OrganizationalUnitName_Status.GetHistoryFieldIconClass()"></i>&nbsp;
                                                @Model.OrganizationalUnitName
                                            </span>
                                        </td>
                                        <td data-header="Original Value">
                                            <input type="hidden" asp-for="OrganizationalUnitName_OriginalValue" />
                                            <span title="Original Data">@Model.OrganizationalUnitName_OriginalValue</span>
                                        </td>
                                        <td data-header="Source Field Id">
                                            @if (Model.OrganizationalUnitName_Source == "" || Model.OrganizationalUnitName_Source == null)
                                            {
                                                <span class="notProvidedDataHistory"><i role="img" class="fas fa-exclamation-triangle"></i>&nbsp; Not Applicable in @Model.System</span>;
                                            }
                                            else
                                            {
                                                @Model.OrganizationalUnitName_Source
                                            }
                                        </td>
                                    </tr>
                                    <tr class="@Model.OrganizationalUnitCode_Status.GetHistoryFieldStatusClass()">
                                        <td data-header="Field">@Model.OrganizationalUnitCode_BusinessName</td>
                                        <td data-header="Current Value">
                                            <span title="@Model.OrganizationalUnitCode_Status">
                                                <i role="img" class="fas @Model.OrganizationalUnitCode_Status.GetHistoryFieldIconClass()"></i>&nbsp;
                                                @Model.OrganizationalUnitCode
                                            </span>
                                        </td>
                                        <td data-header="Original Value">
                                            <input type="hidden" asp-for="OrganizationalUnitCode_OriginalValue" />
                                            <span title="Original Value">@Model.OrganizationalUnitCode_OriginalValue</span>
                                        </td>
                                        <td data-header="Source Field Id">
                                            @if (Model.OrganizationalUnitCode_Source == "" || Model.OrganizationalUnitCode_Source == null)
                                            {
                                                <span class="notProvidedDataHistory"><i role="img" class="fas fa-exclamation-triangle"></i>&nbsp; Not Applicable in @Model.System</span>;
                                            }
                                            else
                                            {
                                                @Model.OrganizationalUnitCode_Source
                                            }
                                        </td>
                                    </tr>
                                    <tr class="@Model.OrganizationalUnitType_Status.GetHistoryFieldStatusClass()">
                                        <td data-header="Field">@Model.OrganizationalUnitType_BusinessName</td>
                                        <td data-header="Current Value">
                                            <span title="@Model.OrganizationalUnitType_Status">
                                                <i role="img" class="fas @Model.OrganizationalUnitType_Status.GetHistoryFieldIconClass()"></i>&nbsp;
                                                @Model.OrganizationalUnitType
                                            </span>
                                        </td>
                                        <td data-header="Original Value">
                                            <input type="hidden" asp-for="OrganizationalUnitType_OriginalValue" />
                                            <span title="Original Value">@Model.OrganizationalUnitType_OriginalValue</span>
                                        </td>
                                        <td data-header="Source Field Id">
                                            @if (Model.OrganizationalUnitType_Source == "" || Model.OrganizationalUnitType_Source == null)
                                            {
                                                <span class="notProvidedDataHistory"><i role="img" class="fas fa-exclamation-triangle"></i>&nbsp; Not Applicable in @Model.System</span>;
                                            }
                                            else
                                            {
                                                @Model.OrganizationalUnitType_Source
                                            }
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div><!-- /.col-* -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="tooltip" title="Close"><i role="img" class="fas fa-times">&nbsp;</i> Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

@section Scripts {

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>
        $(document).ready(function () {

            // https://select2.org/
            // -------------------------------------------------

            //// Parent Organization ---
            //$('#OrganizationMasterId').select2({
            //    selectOnClose: true,
            //    width: '100%'
            //});
            //// Parent Organizational Unit ---
            //$('#ParentOrganizationalUnitMasterId').select2({
            //    selectOnClose: true,
            //    width: '100%'
            //});
            //// Organizational Unit Type ---
            //$('#OrganizationalUnitType').select2({
            //    selectOnClose: true,
            //    width: '100%'
            //});

            //// Get/Set Current Drop-Down Value:
            //// -------------------------------------------------
            //$('#ParentOrganizationalUnitMasterId').on('change', function () {
            //    // get current value/text
            //    var currentParentSelectListValue = $(this).find(":selected").text();
            //    //alert(currentParentSelectListValue);

            //    // set current value on hidden field '#parentOrgSelector'
            //    if (currentParentSelectListValue !== "" && currentParentSelectListValue !== "-- Choose Organization --") {
            //        $('#ParentOrganizationalUnitMasterId').val(currentParentSelectListValue);
            //    } else {
            //        $('#ParentOrganizationalUnitMasterId').val("");
            //    };
            //});

            //// Get/Set Current Drop-Down Value:
            //// -------------------------------------------------
            //$('#OrganizationMasterId').on('change', function () {
                // get current value/text
                //var currentParentOrgSelectListValue = $(this).find(":selected").val();
                //alert(currentParentOrgSelectListValue);

                // set current value on hidden field '#parentOrgSelector'
                //if (currentParentOrgSelectListValue !== "" && currentParentOrgSelectListValue !== "-- Choose Parent Organizational Unit --") {
                //    $('#OrganizationMasterId').val(currentParentOrgSelectListValue);
                //} else {
                //    $('#OrganizationMasterId').val("");
                //};
                //if (currentParentOrgSelectListValue !== "0") {
                //    $('#OrganizationMasterId').val("");
                //};
            //});

            //// Get/Set Current Drop-Down Value:
            //// -------------------------------------------------
            //$('#OrganizationalUnitType').on('change', function () {
            //    // get current value/text
            //    var currentOrgUnitTypeSelectListValue = $(this).find(":selected").text();
            //    //alert(currentParentOrgSelectListValue);

            //    // set current value on hidden field '#parentOrgSelector'
            //    if (currentOrgUnitTypeSelectListValue !== "" && currentOrgUnitTypeSelectListValue !== "-- Choose Organizational Unit Type --") {
            //        $('#OrganizationalUnitType').val(currentOrgUnitTypeSelectListValue);
            //    } else {
            //        $('#OrganizationalUnitType').val("");
            //    };
            //});


            var form = $('.content-container > form');
            var formGroup = $(':input').parent('.form-group');
            var editedClass = 'fa-pen-square';

            // Get Current Form Field Value:
            // -------------------------------------------------
            $(form).on('keyup change paste', ':input', function () {

                var formField = $(this);
                var thisFormFieldsValue = $(this).val();
                //console.log('form field value: ' + thisFormFieldsValue);

                return (formField);
                console.log(formField);

            });


            var dfOptions = {
                denoteDirtyForm: true,
                denoteDirtyOptions: true,
                dirtyOptionClass: "dirtyChoice",
                trimText: true,
                textboxContext: 'parent',

                preFieldChangeCallback: function (originalValue) {
                    //$("#callbackBox").html("[preFieldChangeCallback] Original value of field '" + $(this).attr("name") + "' is: " + originalValue + "<br />");
                },
                fieldChangeCallback: function (originalValue, result) {
                    //$("#callbackBox").append("[fieldChange callback] Original value of field  '" + $(this).attr("name") + "' is: " + originalValue + ".  Dirty status is " + result + "<br />");
                },
                formChangeCallback: function (result, dirtyFieldsArray) {
                    var recordName = "@Model.OrganizationalUnitName";
                    var dirtyFieldParentPanelTitle = $('.form-group.dirtyField').parents('.panel').find('.updatedFormAlert');
                    var cleanFieldParentPanelTitle = $('.form-group:not(".dirtyField")').parents('.panel').find('.updatedFormAlert');
                    if (result) { // Dirty
                        //$("#callbackBox").append("[formChangeCallback] Form is dirty. Dirty fields are: " + dirtyFieldsArray + "<br />");
                        $(this).parents('.form-group').addClass('dirtyField').addClass('has-feedback');
                        $(this).find("#btnResolve").removeAttr("disabled");
                        //$(dirtyFieldParentPanelTitle).removeClass("hide").html("*" + recordName + "'s record has been modified*");
                        $(dirtyFieldParentPanelTitle).removeClass("hide").html("*Save your changes*");
                        $('#btnSavePartial').removeAttr('disabled');
                        // Validate Drop-down form fields:
                        $("select").on("select2:close", function (e) {
                            $(this).valid();
                            $(this).parents('.form-group').addClass('dirtyField').addClass('has-feedback');
                            $('.form-group.dirtyField').parents('.panel').find('.updatedFormAlert').removeClass("hide").html("*Save your changes*");
                        });
                    }
                    else { // Clean
                        //$("#callbackBox").append("[formChangeCallback] Form is clean.<br />");
                        $(this).parents('.form-group').removeClass('dirtyField has-feedback');
                        $(this).find("#btnSavePartial").attr("disabled", "disabled");
                        $(cleanFieldParentPanelTitle).addClass("hide").html("");
                        // Validate Drop-down form fields:
                        $("select").on("select2:close", function (e) {
                            $(this).valid();
                            $(this).parents('.form-group').removeClass('dirtyField has-feedback');
                            $('.form-group:not(".dirtyField")').parents('.panel').find('.updatedFormAlert').addClass("hide").html("");
                        });
                    }
                    //Scrolls the logging div to the bottom
                    //var objDiv = document.getElementById("callbackBox");
                    //objDiv.scrollTop = objDiv.scrollHeight;
                }
            };

            $(form).dirtyFields(dfOptions);


        });
    </script>

}
